class QuillToolbarItem{constructor(e){this.options=e,this.qlFormatsEl=document.createElement("span"),this.qlFormatsEl.className="ql-formats"}attach(e){const t=this;t.quill=e,t.toolbar=e.getModule("toolbar"),t.toolbarEl=t.toolbar.container,t.toolbarEl.appendChild(t.qlFormatsEl)}detach(e){this.toolbarEl.removeChild(this.qlFormatsEl)}_getTextWidth(e,t="500 14px 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif"){const l=(this._getTextWidth.canvas||(this._getTextWidth.canvas=document.createElement("canvas"))).getContext("2d");return l.font=t,l.measureText(e).width}_addCssRule(e){const t=document.createElement("style");document.head.appendChild(t),t.sheet.insertRule(e,0)}_generateId(){return Math.random().toString().substr(2,10)}}class QuillToolbarDropDown extends QuillToolbarItem{constructor(e){super(e);const t=this;t.id=t.options.id||`dropdown-${t._generateId()}`;const l=document.createElement("span");l.className=`ql-${t.id} ql-picker`,t.qlFormatsEl.appendChild(l);const o=document.createElement("span");o.className="ql-picker-label",l.appendChild(o),o.addEventListener("click",function(e){l.classList.toggle("ql-expanded")}),window.addEventListener("click",function(e){l.contains(e.target)||l.classList.remove("ql-expanded")});const n=document.createElement("span");n.className="ql-picker-options",l.appendChild(n),t.dropDownEl=l,t.dropDownPickerEl=t.dropDownEl.querySelector(".ql-picker-options"),t.dropDownPickerLabelEl=t.dropDownEl.querySelector(".ql-picker-label"),t.dropDownPickerLabelEl.innerHTML='<svg viewBox="0 0 18 18"> <polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"></polygon> <polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"></polygon> </svg>',t.setLabel(t.options.label||""),t.setItems(t.options.items||{}),t._addCssRule(`\n            .ql-snow .ql-picker.ql-${t.id} .ql-picker-label::before, .ql-${t.id} .ql-picker.ql-size .ql-picker-item::before {\n                content: attr(data-label);\n            }\n        `)}setItems(e){const t=this;for(const[l,o]of Object.entries(e)){const e=document.createElement("span");e.className="ql-picker-item",e.innerHTML=l,e.setAttribute("data-value",o),e.onclick=function(e){t.dropDownEl.classList.remove("ql-expanded"),t.options.rememberSelection&&t.setLabel(l),t.onSelect&&t.onSelect(l,o,t.quill)},t.dropDownPickerEl.appendChild(e)}}setLabel(e){const t=`${this._getTextWidth(e)+30}px`;this.dropDownPickerLabelEl.style.width=t,this.dropDownPickerLabelEl.setAttribute("data-label",e)}onSelect(e,t,l){}}class QuillToolbarButton extends QuillToolbarItem{constructor(e){super(e);const t=this;t.id=t.options.id||`button-${t._generateId()}`,t.qlButton=document.createElement("button"),t.qlButton.className=`ql-${t.id}`,t.setValue(t.options.value),t.setIcon(t.options.icon),t.qlButton.onclick=function(){t.onClick(t.quill)},t.qlFormatsEl.appendChild(t.qlButton)}setIcon(e){this.qlButton.innerHTML=e}setValue(e){this.qlButton.value=e}getValue(){return this.qlButton.value}onClick(e,t){}}
